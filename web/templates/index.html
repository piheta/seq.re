<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>seq.re</title>
    <link rel="icon" type="image/webp" href="/static/favicon.webp">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <script src="/static/crypto.js"></script>
    <style>
        :root {
            color-scheme: light;
            --dr-bg-white: #ffffff;
            --text-black: #000000;
            --bg-f5f5f5: #f5f5f5;
            --bg-faedda: #faedda;
            --border-e5e7eb: #e5e7eb;
            --text-9ca3af: #9ca3af;
            --bg-f3f4f6: #f3f4f6;
            --bg-f9fafb: #f9fafb;
            --text-2563eb: #2563eb;
            --text-4b5563: #4b5563;
            --text-111827: #111827;
            --text-16a34a: #16a34a;
            --text-4f46e5: #4f46e5;
            --text-ea580c: #ea580c;
            --text-9333ea: #9333ea;
            --border-d1d5db: #d1d5db;
            --bg-2563eb: #2563eb;
            --text-374151: #374151;
            --bg-1d4ed8: #1d4ed8;
        }

        .dark {
            color-scheme: dark !important;
            --dr-bg-white: #111415;
            --text-black: #ffffff;
            --bg-f5f5f5: #1a1d1e;
            --bg-faedda: #512f00;
            --border-e5e7eb: #3e4548;
            --text-9ca3af: #f3ead9;
            --bg-f3f4f6: #1a1d20;
            --bg-f9fafb: #15181a;
            --text-2563eb: #41c3ff;
            --text-4b5563: #f5ebdc;
            --text-111827: #ffffff;
            --text-16a34a: #7cffc9;
            --text-4f46e5: #66b2ff;
            --text-ea580c: #ff942d;
            --text-9333ea: #d550ff;
            --border-d1d5db: #474e51;
            --bg-2563eb: #0551f7;
            --text-374151: #fffef3;
            --bg-1d4ed8: #0f4af0;
        }

        body {
            background-color: var(--bg-f9fafb);
            background-image: radial-gradient(var(--dr-bg-white) 15%, transparent 0);
            background-size: 30px 30px;
            color: var(--text-black);
        }

        .dark body {
            background-color: var(--bg-f9fafb);
        }

        .footer-link {
            color: var(--text-4b5563);
        }

        .footer-link:hover {
            color: var(--text-111827);
        }

        .tab-button:hover {
            background-color: var(--bg-f5f5f5);
        }
    </style>
</head>

<body class="min-h-screen py-8 px-4" style="background-color: var(--bg-f9fafb);">
    <div class="max-w-2xl mx-auto">
        <header class="mb-8 flex justify-between items-center">
            <h1 class="text-4xl" style="color: var(--text-111827);">seq.re</h1>
            <button id="dark-mode-toggle" class="p-2 -mb-3 rounded-md"
                style="background-color: var(--bg-f9fafb);" onclick="toggleDarkMode()"
                title="Toggle dark mode">
                <svg id="sun-icon" class="w-5 h-5 hidden" style="color: var(--text-ea580c);" fill="none"
                    stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z">
                    </path>
                </svg>
                <svg id="moon-icon" class="w-5 h-5" style="color: var(--text-4f46e5);" fill="none"
                    stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z">
                    </path>
                </svg>
            </button>
        </header>

        <!-- Tabs -->
        <div class="rounded-lg shadow-sm mb-6 p-2" style="background-color: var(--dr-bg-white);">
            <div class="flex flex-wrap gap-1">
                <button hx-get="/tab/url" hx-target="#tab-content" hx-swap="innerHTML"
                    class="tab-button flex items-center justify-center gap-2 px-4 py-2 rounded-md flex-grow sm:flex-grow-0"
                    style="background-color: var(--bg-f3f4f6); color: var(--text-111827);"
                    onclick="setActiveTab(this)">
                    <svg class="w-4 h-4" style="color: var(--text-2563eb);" fill="none" stroke="currentColor"
                        viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1">
                        </path>
                    </svg>
                    <span class="hidden sm:inline">URL Shortener</span>
                </button>
                <button hx-get="/tab/image" hx-target="#tab-content" hx-swap="innerHTML"
                    class="tab-button flex items-center justify-center gap-2 px-4 py-2 rounded-md flex-grow sm:flex-grow-0"
                    style="color: var(--text-4b5563);" onclick="setActiveTab(this)">
                    <svg class="w-4 h-4" style="color: var(--text-16a34a);" fill="none" stroke="currentColor"
                        viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z">
                        </path>
                    </svg>
                    <span class="hidden sm:inline">Image Sharing</span>
                </button>
                <button hx-get="/tab/secret" hx-target="#tab-content" hx-swap="innerHTML"
                    class="tab-button flex items-center justify-center gap-2 px-4 py-2 rounded-md flex-grow sm:flex-grow-0"
                    style="color: var(--text-4b5563);" onclick="setActiveTab(this)">
                    <svg class="w-4 h-4" style="color: var(--text-9333ea);" fill="none" stroke="currentColor"
                        viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z">
                        </path>
                    </svg>
                    <span class="hidden sm:inline">Secret Sharing</span>
                </button>
                <button hx-get="/tab/code" hx-target="#tab-content" hx-swap="innerHTML"
                    class="tab-button flex items-center justify-center gap-2 px-4 py-2 rounded-md flex-grow sm:flex-grow-0"
                    style="color: var(--text-4b5563);" onclick="setActiveTab(this)">
                    <svg class="w-4 h-4" style="color: var(--text-ea580c);" fill="none" stroke="currentColor"
                        viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
                    </svg>
                    <span class="hidden sm:inline">Code Sharing</span>
                </button>
                <button hx-get="/tab/ip" hx-target="#tab-content" hx-swap="innerHTML"
                    class="tab-button flex items-center justify-center gap-2 px-4 py-2 rounded-md flex-grow sm:flex-grow-0"
                    style="color: var(--text-4b5563);" onclick="setActiveTab(this)">
                    <svg class="w-4 h-4" style="color: var(--text-4f46e5);" fill="none" stroke="currentColor"
                        viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z">
                        </path>
                    </svg>
                    <span class="hidden sm:inline">IP Detection</span>
                </button>
            </div>
        </div>

        <!-- Tab Content -->
        <div class="rounded-lg shadow-sm p-6" style="background-color: var(--dr-bg-white);"
            id="tab-content" hx-get="/tab/url" hx-trigger="load" hx-swap="innerHTML">
            <!-- Content will be loaded here -->
        </div>

        <footer class="mt-8 pt-6" style="border-top: 1px solid var(--border-e5e7eb);">
            <div class="flex flex-wrap items-center gap-4 text-sm" style="color: var(--text-4b5563);">
                <a href="https://github.com/piheta/seq.re" class="transition-colors footer-link"
                    target="_blank">GitHub</a>
                <a href="https://github.com/piheta/seq.re?tab=readme-ov-file#cli" class="transition-colors footer-link"
                    target="_blank">CLI</a>
                <a href="https://github.com/piheta/seq.re?tab=readme-ov-file#server-deployment"
                    class="transition-colors footer-link" target="_blank">Host Your Own</a>
                <a href="/privacy" class="transition-colors footer-link">Privacy Policy</a>
                <a href="https://github.com/piheta/seq.re/blob/main/LICENSE" class="transition-colors footer-link"
                    target="_blank">License</a>
                {{if .ContactEmail}}
                <a href="mailto:{{.ContactEmail}}" class="transition-colors footer-link">Contact</a>
                {{end}}
                {{if .Version}}
                <span class="sm:ml-auto" style="color: var(--text-9ca3af);">{{.Version}}</span>
                {{end}}
            </div>
        </footer>
    </div>

    <script>
        // Dark mode toggle
        function toggleDarkMode() {
            const html = document.documentElement;
            const isDark = html.classList.toggle('dark');
            localStorage.setItem('darkMode', isDark ? 'dark' : 'light');

            // Toggle icons
            document.getElementById('sun-icon').classList.toggle('hidden');
            document.getElementById('moon-icon').classList.toggle('hidden');
        }

        // Initialize dark mode from localStorage
        (function () {
            const savedMode = localStorage.getItem('darkMode');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const shouldBeDark = savedMode === 'dark' || (!savedMode && prefersDark);

            if (shouldBeDark) {
                document.documentElement.classList.add('dark');
                document.getElementById('sun-icon').classList.remove('hidden');
                document.getElementById('moon-icon').classList.add('hidden');
            }
        })();

        function setActiveTab(button) {
            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(btn => {
                btn.style.backgroundColor = 'transparent';
                btn.style.color = 'var(--text-4b5563)';
                btn.classList.remove('active-tab');

                // Re-add hover listeners for inactive tabs
                btn.onmouseenter = function () {
                    if (!this.classList.contains('active-tab')) {
                        this.style.backgroundColor = 'var(--bg-f5f5f5)';
                    }
                };
                btn.onmouseleave = function () {
                    if (!this.classList.contains('active-tab')) {
                        this.style.backgroundColor = 'transparent';
                    }
                };
            });

            button.style.backgroundColor = 'var(--bg-f3f4f6)';
            button.style.color = 'var(--text-111827)';
            button.classList.add('active-tab');

            // Remove hover effect for active tab
            button.onmouseenter = null;
            button.onmouseleave = null;
        }

        function copyToClipboard(text, buttonId) {
            navigator.clipboard.writeText(text);
            const button = document.getElementById(buttonId);
            const originalHTML = button.innerHTML;
            button.innerHTML = '<svg class="w-5 h-5" style="color: var(--text-16a34a);" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>';
            setTimeout(() => {
                button.innerHTML = originalHTML;
            }, 2000);
        }
    </script>
</body>

</html>
